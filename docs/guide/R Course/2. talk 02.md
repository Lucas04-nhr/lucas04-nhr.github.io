---
title: Talk 02
createTime: 2025/12/03 23:46:41
permalink: /docs/r-course/talk02/
---
## R language basics, part 1 {#title}

::: note
Reference: [R for Data Science](https://r4ds.had.co.nz)

The book updated to 2^nd^ ed. on July,2023, here’ s a [link](https://r4ds.hadley.nz) to the official website.

---

#### Talk 02 {#talk02}
- View the original slide through [this link](https://github.com/Lucas04-nhr/R-for-Data-Science/blob/main/talk02.pdf).
- View the original R markdown file of the slide through [this link](https://github.com/Lucas04-nhr/R-for-Data-Science/blob/main/talk02.Rmd).
:::

##  Fundamental Data Type {#fundamental-data-type}

The most basic data types include **numbers**, **logical symbols** and **strings** and are the basic building blocks of the other data types.

##  Simple Data Types {#simple-data-types}
This includes vectors and matrices, both of which can contain multiple values of a certain basic data type, such as a **matrix** consisting of multiple numbers, a **vector** consisting of multiple strings, and so on. However, **they can only contain a single data type.**

```R
c(100, 20, 30) ## Interger vector 
c("String", "Array", "It's me".) ## String vector
c(TRUE, FALSE, TRUE, T, F) ## A logic vector
```

As shown above, arrays are usually defined with the function `c()`. In addition, a `vector` containing consecutive integers can be defined using the `:` operator.

##  Conversion between data types {#conversion-between-data-types}

1. Automatic Conversion

	A `vector` can contain only one basic data type. Therefore, when defining arrays, if the input values are mixed, certain basic data types are automatically converted to other types to ensure consistency of the numeric types; this is called `coerce` in English, and has the meaning of forced conversion. The priority of this conversion is:

	* Logical types -> numeric types
	* Logical Type -> String 
	* numeric type -> string

2. Manual switchover

	In addition to the automatic conversion, you can manually convert the types of the elements in a vector:

	+ Checking the type of a variable `class()`
	+ Checking of classes `is.type()`
	+ Conversion of classes `as.type()`

## Some special values in matrices {#special-values-in-matrices}

+ `NA` (Not Available) missing values

+ `NaN` (Not a Number)is meaningless

+ `-Inf` Negative Infinity

+ `Inf` Positive Infinity

+ `NULL` Null

Some functions to determine these special values:

+ `is.na()`
+ `is.finite()`
+ `is.infinite()`

## Vectors and Arrays {#vectors-and-arrays}

Both are arrays. A `vector` is a one-dimensional array and a matrix is a two-dimensional array.

This means.

- There can be more dimensional arrays
- High-dimensional arrays, like `vector` and matrices, can contain only one basic data type.
- Higher dimensional arrays can be defined by the `array()` function.

### Vector maniulation {#vector-manipulation}

```R
dim(m);
nrow(m);
ncol(m);
range(m); ## Available when the content is numeric
summary(m); ## Can also be used in vector
```

Extra:

- Incorporation `ab = c(a, b)`

- Take part `ab[1]`

- Replacement of individual values `ab[1] = c`

- Replacing multiple values `ab[c(2, 3)] = c("Weihua", "Chen")`

- Naming elements and replace values `names(ab) = as.character(ab)`

- Reverse `rev(1:10)`

- Sort&order 

	```R
	lts = sample(LETTERS[1:20])
	sort(lts)
	```

- Fetch one line or multiple lines

  :::note
  Examples for fetching rows from an existing matrix `m`:

  ```R
  # show entire matrix
  m

  # first row
  m[1, ]

  # first two rows
  m[1:2, ]

  # fetch rows by name in the order you want (need the comma to indicate row selection)
  m[c("row_B", "row_A"), ]
  ```

  Note: include the trailing comma when selecting rows (i.e., `m[rows, cols]`). Omitting the comma can perform linear indexing or select columns, which is usually not what you intend.
  :::

- Fetch one column or multiple columns

  ::: info
	As can be seen from the same principle, I only list codes here
  :::

	```R
	m[ , 1]
	m[ , c(1:2)]
	m[ , c("col_B", "col_A")]
	```

- Fetch parts `m[1:2, 2:3]`

- Replacement

	```R
	m[1, ] = c(10)
	m[, "C"] = c(230, 140)
	m[1:2,] = matrix( 1:6, nrow=2)
	m[1, c("C", "B")] = matrix(110:111, nrow = 1)
	```

- Transparent `t(m)`

## The hierarchy of R’s vector types {#hierarchy-of-r-vector-types}

::: center
![The hierarchy of R’s vector types](https://cdn.jsdelivr.net/gh/Lucas04-nhr/Pictures@main/uPic/data-structures-overview.png)
:::

You can use function `typeof()` to know the type of a vector.

Here are some examples of other `is.xxx()` function:

```R
is.null( NULL )
is.numeric( NA )
is.numeric( Inf );
is.list(); # This is a function which can take the place of "typeof()"
is.logical()
is.character()
is.vector();
# more ...
```
